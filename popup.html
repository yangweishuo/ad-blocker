<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <h2>Ad Blocker Pro</h2>
    </div>

    <div class="tabs">
      <div class="tab active" data-tab="overview">概览</div>
      <div class="tab" data-tab="rules">规则管理</div>
      <div class="tab" data-tab="whitelist">白名单</div>
      <div class="tab" data-tab="performance">性能</div>
    </div>

    <!-- 概览标签页 -->
    <div class="tab-content active" id="overview">
      <div class="stats-card">
        <h3>统计信息</h3>
        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-value" id="blockedRequests">0</div>
            <div class="stat-label">已拦截请求</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="savedBandwidth">0 MB</div>
            <div class="stat-label">节省流量</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="lastUpdate">-</div>
            <div class="stat-label">最后更新</div>
          </div>
        </div>
        <div class="advanced-stats">
          <div class="advanced-stat-item">
            <div class="advanced-stat-value" id="activeRules">0</div>
            <div class="advanced-stat-label">活跃规则数</div>
          </div>
          <div class="advanced-stat-item">
            <div class="advanced-stat-value" id="whitelistDomains">0</div>
            <div class="advanced-stat-label">白名单域名</div>
          </div>
        </div>
      </div>
    </div>

    <!-- 规则管理标签页 -->
    <div class="tab-content" id="rules">
      <div class="rule-form">
        <h3>添加自定义规则</h3>
        <div class="form-group">
          <label for="ruleType">规则类型</label>
          <select id="ruleType">
            <option value="regex">正则表达式</option>
            <option value="css">CSS 选择器</option>
          </select>
        </div>
        <div class="form-group">
          <label for="rulePattern">规则模式</label>
          <input type="text" id="rulePattern" placeholder="输入规则模式">
        </div>
        <div class="button-group">
          <button class="btn-primary" id="addRule">
            <span>添加规则</span>
          </button>
        </div>
      </div>

      <div class="rule-list">
        <h3>自定义规则列表</h3>
        <div class="rules-container" id="rulesList">
          <div class="empty-state">
            <p>暂无自定义规则</p>
          </div>
        </div>
      </div>

      <div class="rule-sources">
        <h3>规则源</h3>
        <div class="source-list">
          <!-- 规则源列表将通过 JavaScript 动态生成 -->
        </div>
        <div class="default-rules-option">
          <label class="switch">
            <input type="checkbox" id="defaultRulesToggle" checked>
            <span class="slider round"></span>
            <span class="label"></span>
          </label>
          <p class="description">启用后将使用内置的默认规则，包括广告、跟踪器、钓鱼网站等拦截规则</p>
        </div>
        <button id="updateAllSources" class="btn btn-primary">
          <span>更新所有规则</span>
        </button>
      </div>

      <div class="import-export">
        <button class="btn-secondary" id="exportRules">导出规则</button>
        <button class="btn-secondary" id="importRules">导入规则</button>
      </div>
    </div>

    <!-- 白名单标签页 -->
    <div class="tab-content" id="whitelist">
      <div class="whitelist-form">
        <h3>添加白名单域名</h3>
        <div class="form-group">
          <label for="whitelistDomain">域名</label>
          <input type="text" id="whitelistDomain" placeholder="例如: example.com">
        </div>
        <div class="button-group">
          <button class="btn-primary" id="addWhitelist">添加到白名单</button>
        </div>
      </div>

      <div class="whitelist-list">
        <h3>白名单域名列表</h3>
        <div id="whitelistList">
          <!-- 白名单列表将通过 JavaScript 动态添加 -->
        </div>
      </div>
    </div>

    <!-- 性能标签页 -->
    <div class="tab-content" id="performance">
      <div class="performance-metrics">
        <div class="metric-item">
          <div class="metric-value" id="avgBlockTime">0ms</div>
          <div class="metric-label">平均拦截时间</div>
        </div>
        <div class="metric-item">
          <div class="metric-value" id="memoryUsage">0MB</div>
          <div class="metric-label">内存使用</div>
        </div>
        <div class="metric-item">
          <div class="metric-value" id="cpuUsage">0%</div>
          <div class="metric-label">CPU 使用率</div>
        </div>
        <div class="metric-item">
          <div class="metric-value" id="ruleCacheSize">0KB</div>
          <div class="metric-label">规则缓存大小</div>
        </div>
      </div>
    </div>
  </div>
  <script src="popup.js"></script>
</body>
</html> 